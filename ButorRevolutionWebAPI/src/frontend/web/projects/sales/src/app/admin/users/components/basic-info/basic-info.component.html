<div class="basic-wrapper">
  <div [formGroup]="basicInfoForm">
    <div class="basic-header" (click)="onFileSelected()">
      <figure class="profile-big">
        <img [src]="previewUrl" class="profile__pic" alt='profile'>
      </figure>
      <input style="display: none;" #fileInput type="file" accept="image/*">
    </div>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.Name' | translate}}">
      <butor-form-input formControlName="name" name="name"></butor-form-input>
      <div *ngIf="submitted && f.name.errors" class="error">
        <div *ngIf="f.name.errors.required">Név megadása kötelező</div>
      </div>
    </butor-form-field>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.Roles' | translate}}">
      <ng-select highlightColor="#9575cd" highlightTextColor="#fff" [items]="roles" [multiple]="true" bindLabel="name"
        formControlName="roles" bindValue="id" name="roles" [clearable]="false">

        <ng-template ng-label-tmp let-item="item" let-clear="clear">
          <div class="role">
            <div class="image-icons">
            </div>
            <span class="role-text">{{item.name}}</span>
            <a class="role-link" (click)="clear(item)"><i class="icon icon-clear"></i></a>
          </div>
        </ng-template>
      </ng-select>
      <div *ngIf="submitted && f.roles.errors" class="error">
        <div *ngIf="f.roles.errors.required">Szerepkör megadása kötelező</div>
      </div>
    </butor-form-field>
    <butor-card-wrapper>
      <!-- <butor-cards title="any" formControlName="roles"></butor-cards> -->
    </butor-card-wrapper>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.Company' | translate}}">
      <ng-select highlightColor="#9575cd" highlightTextColor="#fff" [items]="company" bindLabel="name"
        formControlName="company" bindValue="id" name="company">
      </ng-select>
      <div *ngIf="submitted && f.company.errors" class="error">
        <div *ngIf="f.company.errors.required">Cég megadása kötelező</div>
      </div>
    </butor-form-field>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.PhoneNumber' | translate}}">
      <butor-form-input formControlName="phone" name="phone"></butor-form-input>
      <div *ngIf="submitted && f.phone.errors" class="error">
        <div *ngIf="f.phone.errors.required">Telefonszám megadása kötelező</div>
      </div>
    </butor-form-field>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.Email' | translate}}">
      <butor-form-input formControlName="email" name="email"></butor-form-input>
      <div *ngIf="submitted && f.email.errors" class="error">
        <div *ngIf="f.email.errors.required">Email megadása kötelező</div>
      </div>
      <div *ngIf="submitted && f.email.errors" class="error">
        <div *ngIf="f.email.errors.required">Email formátuma nem megfelelő</div>
      </div>
    </butor-form-field>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.Address' | translate}}">
    </butor-form-field>
    <div class="row" formGroupName="address">
      <div class="col-4">
        <butor-form-field>
          <ng-select highlightColor="#9575cd" highlightTextColor="#fff" [items]="countries" bindLabel="name"
            bindValue="id" formControlName="countryId" [clearable]="false" placeholder="Country" name="countryId">
          </ng-select>
          <div *ngIf="submitted && f.address.get('countryId').errors" class="error">
            <div *ngIf="f.address.get('countryId').errors.required">Ország megadása kötelező</div>
          </div>
        </butor-form-field>
      </div>
      <div class="col-3">
        <butor-form-field>
          <butor-form-input formControlName="postCode" type="number" placeholder="Postcode" name="postcode">
          </butor-form-input>
          <div *ngIf="submitted && f.address.get('postCode').errors" class="error">
            <div *ngIf="f.address.get('postCode').errors.required">Irányítószám megadása kötelező</div>
          </div>
        </butor-form-field>
      </div>
      <div class="col-5">
        <butor-form-field>
          <butor-form-input formControlName="city" placeholder="City" name="city"></butor-form-input>
          <div *ngIf="submitted && f.address.get('city').errors" class="error">
            <div *ngIf="f.address.get('city').errors.required">Város megadása kötelező</div>
          </div>
        </butor-form-field>
      </div>
      <div class="col-12">
        <butor-form-field>
          <butor-form-input formControlName="address" placeholder="Address" name="address"></butor-form-input>
          <div *ngIf="submitted && f.address.get('address').errors" class="error">
            <div *ngIf="f.address.get('address').errors.required">Cím megadása kötelező</div>
          </div>
        </butor-form-field>
      </div>
    </div>
    <butor-form-field label="{{'Users.EditUser.BasicInfo.labels.Language' | translate}}">
      <ng-select highlightColor="#9575cd" highlightTextColor="#fff" [items]="language" bindLabel="name" bindValue="id"
        formControlName="language" name="language" [clearable]="false"></ng-select>
    </butor-form-field>
  </div>
</div>